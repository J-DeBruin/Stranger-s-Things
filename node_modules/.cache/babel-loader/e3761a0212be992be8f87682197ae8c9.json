{"ast":null,"code":"const BASE_URL = 'https://strangers-things.herokuapp.com/api/2105-OKU-RM-WEB-PT';\nimport TokenUtilities from './token';\nexport default {\n  makeRequest: async function (path, method, data) {\n    const token = TokenUtilities.getToken();\n    const defaultHeaders = {\n      'Content-Type': 'application/json'\n    };\n\n    if (token) {\n      defaultHeaders['authorization'] = `Bearer ${token}`;\n    }\n\n    const options = {\n      method,\n      headers: defaultHeaders\n    };\n\n    if (data) {\n      options.body = JSON.stringify(data);\n    }\n\n    const response = await fetch(BASE_URL + path, options);\n    const responseData = await response.json();\n\n    if (path === \"/uesrs/login\") {\n      alert(responseData.message);\n    }\n\n    console.log(responseData);\n    return responseData;\n  }\n};","map":{"version":3,"sources":["/mnt/c/Users/charl/Desktop/Fullstack Academy/course_work/Stranger-s-Things/Stranger-s-Things/src/utilities/api.js"],"names":["BASE_URL","TokenUtilities","makeRequest","path","method","data","token","getToken","defaultHeaders","options","headers","body","JSON","stringify","response","fetch","responseData","json","alert","message","console","log"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,+DAAjB;AAEA,OAAOC,cAAP,MAA2B,SAA3B;AAEA,eAAe;AACXC,EAAAA,WAAW,EAAE,gBAAeC,IAAf,EAAqBC,MAArB,EAA6BC,IAA7B,EAAmC;AAC5C,UAAMC,KAAK,GAAGL,cAAc,CAACM,QAAf,EAAd;AACA,UAAMC,cAAc,GAAG;AACnB,sBAAgB;AADG,KAAvB;;AAGA,QAAIF,KAAJ,EAAW;AACPE,MAAAA,cAAc,CAAC,eAAD,CAAd,GAAmC,UAASF,KAAM,EAAlD;AACH;;AACD,UAAMG,OAAO,GAAG;AACZL,MAAAA,MADY;AAEZM,MAAAA,OAAO,EAAEF;AAFG,KAAhB;;AAIA,QAAIH,IAAJ,EAAU;AACNI,MAAAA,OAAO,CAACE,IAAR,GAAeC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAAf;AACH;;AACD,UAAMS,QAAQ,GAAG,MAAMC,KAAK,CAACf,QAAQ,GAAGG,IAAZ,EAAkBM,OAAlB,CAA5B;AACA,UAAMO,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA3B;;AACA,QAAId,IAAI,KAAK,cAAb,EAA6B;AACzBe,MAAAA,KAAK,CAACF,YAAY,CAACG,OAAd,CAAL;AACH;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AACA,WAAOA,YAAP;AACH;AAvBU,CAAf","sourcesContent":["const BASE_URL = 'https://strangers-things.herokuapp.com/api/2105-OKU-RM-WEB-PT';\n\nimport TokenUtilities from './token';\n\nexport default {\n    makeRequest: async function(path, method, data) {\n        const token = TokenUtilities.getToken();\n        const defaultHeaders = {\n            'Content-Type': 'application/json'\n        }\n        if (token) {\n            defaultHeaders['authorization'] = `Bearer ${token}`;\n        }\n        const options = {\n            method,\n            headers: defaultHeaders\n        }\n        if (data) {\n            options.body = JSON.stringify(data);\n        }\n        const response = await fetch(BASE_URL + path, options);\n        const responseData = await response.json();\n        if (path === \"/uesrs/login\") {\n            alert(responseData.message)\n        }\n        console.log(responseData);\n        return responseData;\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}