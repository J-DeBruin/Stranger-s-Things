{"ast":null,"code":"var _jsxFileName = \"/Users/justindebruin/Desktop/Code Academy/course_work/strangers_things/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport API from '../utilites/api';\nimport TokenUtilities from '../utilities/token';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RegistrationForm(props) {\n  _s();\n\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setUser(prevState => ({ ...prevState,\n      [id]: value\n    }));\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault();\n\n    if (user.password === user.confirmPassword) {\n      sendDetailsToServer();\n    } else {\n      props.showError('Passwords do not match');\n    }\n  };\n\n  const sendDetailsToServer = async () => {\n    if (user.username.length && user.password.length) {\n      props.showError(null);\n      const user = {\n        \"username\": user.username,\n        \"password\": user.password\n      }; // axios.post(API_BASE_URL+'/user/register', payload)\n      //     .then(function (response) {\n      //         if(response.status === 200){\n      //             setState(prevState => ({\n      //                 ...prevState,\n      //                 'successMessage' : 'Registration successful. Redirecting to home page..'\n      //             }))\n      //             redirectToHome();\n      //             props.showError(null)\n      //         } else{\n      //             props.showError(\"Some error ocurred\");\n      //         }\n      //     })\n      //     .catch(function (error) {\n      //         console.log(error);\n      //     });    \n      //     } else {\n      //         props.showError('Please enter valid username and password')    \n      //     }\n\n      try {\n        const data = await API.makeRequest('/api/2105-OKU-RM-WEB-PT/users/register', 'POST', user);\n        TokenUtilities.setToken(data.token);\n        setToken(data.token);\n      } catch (error) {\n        alert(error);\n      } finally {\n        history.push(\"/\");\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card col-12 col-lg-4 login-card mt-2 hv-center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"username\",\n            className: \"form-control\",\n            id: \"username\",\n            \"aria-describedby\": \"usernameHelp\",\n            placeholder: \"Enter username\",\n            value: user.username,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            id: \"usernameHelp\",\n            className: \"form-text text-muted\",\n            children: \"We'll never share your email with anyone else.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"exampleInputPassword1\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"password\",\n            placeholder: \"Password\",\n            value: user.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"exampleInputPassword1\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"confirmPassword\",\n            placeholder: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          onSubmit: handleSubmitClick,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this);\n  };\n} // export default Register;\n\n\n_s(RegistrationForm, \"mxpB40pssBodflpx+S3Vnnb0rc8=\");\n\n_c = RegistrationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"sources":["/Users/justindebruin/Desktop/Code Academy/course_work/strangers_things/src/components/Register.js"],"names":["React","useState","Link","useHistory","API","TokenUtilities","RegistrationForm","props","user","setUser","username","password","handleChange","e","id","value","target","prevState","handleSubmitClick","preventDefault","confirmPassword","sendDetailsToServer","showError","length","data","makeRequest","setToken","token","error","alert","history","push"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport API from '../utilites/api';\r\nimport TokenUtilities from '../utilities/token';\r\n\r\nfunction RegistrationForm(props) {\r\n    const [user , setUser] = useState({\r\n        username : \"\",\r\n        password : \"\"\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setUser(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const handleSubmitClick = (e) => {\r\n        e.preventDefault();\r\n        if(user.password === user.confirmPassword) {\r\n            sendDetailsToServer()    \r\n        } else {\r\n            props.showError('Passwords do not match');\r\n        }\r\n    }\r\n\r\n    const sendDetailsToServer = async () => {\r\n        if(user.username.length && user.password.length) {\r\n            props.showError(null);\r\n            const user={\r\n                \"username\":user.username,\r\n                \"password\":user.password,\r\n            }\r\n            // axios.post(API_BASE_URL+'/user/register', payload)\r\n            //     .then(function (response) {\r\n            //         if(response.status === 200){\r\n            //             setState(prevState => ({\r\n            //                 ...prevState,\r\n            //                 'successMessage' : 'Registration successful. Redirecting to home page..'\r\n            //             }))\r\n            //             redirectToHome();\r\n            //             props.showError(null)\r\n            //         } else{\r\n            //             props.showError(\"Some error ocurred\");\r\n            //         }\r\n            //     })\r\n            //     .catch(function (error) {\r\n            //         console.log(error);\r\n            //     });    \r\n            //     } else {\r\n            //         props.showError('Please enter valid username and password')    \r\n            //     }\r\n            try{\r\n                const data = await API.makeRequest('/api/2105-OKU-RM-WEB-PT/users/register', 'POST', user);\r\n                TokenUtilities.setToken(data.token);\r\n                setToken(data.token);\r\n            } catch (error){\r\n                alert(error);\r\n            } finally {\r\n                history.push(\"/\");\r\n            }\r\n    }\r\n\r\n    return(\r\n          <div className=\"card col-12 col-lg-4 login-card mt-2 hv-center\">\r\n              <form>\r\n                  <div className=\"form-group text-left\">\r\n                  <label htmlFor=\"username\">Username</label>\r\n                  <input type=\"username\" \r\n                         className=\"form-control\" \r\n                         id=\"username\" \r\n                         aria-describedby=\"usernameHelp\" \r\n                         placeholder=\"Enter username\"\r\n                         value={user.username}\r\n                         onChange={handleChange}\r\n                  />\r\n                  <small id=\"usernameHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n                  </div>\r\n                  <div className=\"form-group text-left\">\r\n                      <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n                      <input type=\"password\" \r\n                          className=\"form-control\" \r\n                          id=\"password\" \r\n                          placeholder=\"Password\"\r\n                          value={user.password}\r\n                          onChange={handleChange}\r\n                      />\r\n                  </div>\r\n                  <div className=\"form-group text-left\">\r\n                      <label htmlFor=\"exampleInputPassword1\">Confirm Password</label>\r\n                      <input type=\"password\" \r\n                          className=\"form-control\" \r\n                          id=\"confirmPassword\" \r\n                          placeholder=\"Confirm Password\"\r\n                      />\r\n                  </div>\r\n                  <button \r\n                      type=\"submit\" \r\n                      className=\"btn btn-primary\"\r\n                      onSubmit={handleSubmitClick}\r\n                  >\r\n                      Register\r\n                  </button>\r\n              </form>\r\n          </div>\r\n      )\r\n  }\r\n}\r\n// export default Register;"]},"metadata":{},"sourceType":"module"}